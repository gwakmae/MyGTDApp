@using MyGtdApp.Components.Shared
@inherits LayoutComponentBase

<div class="page">
    <div class="sidebar @(isSidebarOpen ? "is-open" : "")">
        <NavMenu />
    </div>

    @if (isSidebarOpen)
    {
        <div class="sidebar-backdrop is-open" @onclick="ToggleSidebar"></div>
    }

    <main>
        <div class="mobile-header">
            <HamburgerButton OnToggle="SyncSidebarState" />
            <span class="mobile-header-title">GTD Board</span>
        </div>

        <article class="content px-4">
            @Body
        </article>
    </main>
</div>

@code {
    private bool isSidebarOpen;

    private void ToggleSidebar()
        => isSidebarOpen = !isSidebarOpen;

    private void SyncSidebarState(bool open)
        => isSidebarOpen = open;
}
